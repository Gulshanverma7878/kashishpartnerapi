(()=>{var e={};e.id=872,e.ids=[872],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d});var s=r(65239),n=r(48088),a=r(88170),o=r.n(a),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["Login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,33363)),"/root/APIPARTNER/kashishpartnerapi/app/Login/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/root/APIPARTNER/kashishpartnerapi/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/root/APIPARTNER/kashishpartnerapi/app/Login/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/Login/page",pathname:"/Login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26939:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(60687),n=r(43210);let a=({isOpen:e,onClose:t,onSubmit:r,onResend:a})=>{let[o,i]=(0,n.useState)(["","","","","",""]);(0,n.useEffect)(()=>{if(e){let e=document.getElementById("otp-0");e?.focus()}},[e]);let l=(e,t)=>{if(!/^\d*$/.test(t))return;let r=[...o];if(r[e]=t,i(r),t&&e<5){let t=document.getElementById(`otp-${e+1}`);t?.focus()}},d=(e,t)=>{if("Backspace"===t.key&&!o[e]&&e>0){let t=document.getElementById(`otp-${e-1}`);t?.focus()}};return e?(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50  ",children:(0,s.jsxs)("div",{className:"z-100  rounded-2xl bg-gradient-to-r from-indigo-200 via-purple-200 to-pink-200 shadow-xl w-full max-w-md border border-gray-100 transform transition-all duration-300 scale-95 hover:scale-100",children:[(0,s.jsx)("h2",{className:" rounded-t-2xl text-3xl font-extrabold text-center mb-6 bg-gray-500 text-white p-4 ",children:(0,s.jsx)("span",{className:"inline-block",children:"OTP Verification"})}),(0,s.jsx)("p",{className:"text-center text-gray-900 mb-8",children:"We've sent a 6-digit code to your mobile"}),(0,s.jsx)("div",{className:"flex justify-center space-x-3 mb-8",children:o.map((e,t)=>(0,s.jsx)("input",{id:`otp-${t}`,type:"text",maxLength:1,value:e,className:"w-14 h-14 border-2 border-black rounded-xl text-center text-2xl font-semibold text-gray-700  focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",onChange:e=>l(t,e.target.value),onKeyDown:e=>d(t,e),autoFocus:0===t},t))}),(0,s.jsxs)("div",{className:"flex gap-4 mb-6 mx-2",children:[(0,s.jsx)("button",{className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl hover:bg-gray-200 transition-colors font-medium text-sm uppercase tracking-wide shadow-sm",onClick:t,children:"Cancel"}),(0,s.jsx)("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-xl  hover:from-purple-700 hover:to-indigo-700 transition-all font-medium text-sm uppercase tracking-wide shadow-lg shadow-purple-100 hover:shadow-purple-200",onClick:()=>{let e=o.join("");6===e.length?r(e):alert("Please enter complete OTP")},children:"Verify"})]}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-400 mb-4",children:["Didn't receive code?"," ",(0,s.jsx)("button",{className:"text-purple-600 hover:text-purple-700 font-medium transition-colors",onClick:()=>{i(["","","","","",""]),a()},children:"Resend OTP"})]})]})}):null}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33363:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/root/APIPARTNER/kashishpartnerapi/app/Login/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/APIPARTNER/kashishpartnerapi/app/Login/page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},35975:(e,t,r)=>{Promise.resolve().then(r.bind(r,33363))},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(31658);let n=async e=>[{type:"image/x-icon",sizes:"256x249",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},49887:(e,t,r)=>{Promise.resolve().then(r.bind(r,86691))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},86691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(60687),n=r(43210),a=r(26939),o=r(54050),i=r(12810);let l={sendLoginOtp:e=>i.S.post("/api/user/send-login",e),verifyOtp:e=>i.S.post("/api/user/login",e),sendRegisterOtp:e=>i.S.post("/api/user/send-otp",e),verifyRegisterOtp:e=>i.S.post("/api/user/verify-otp",e),submitPersonalDetail:e=>i.S.post("/api/user/create",e)},d=()=>{let e=(0,o.n)({mutationFn:async e=>{let{data:t}=await l.sendLoginOtp(e);return t}});return{mutate:e.mutate,isPending:e.isPending,data:e.data,error:e.error}};var u=r(16189);let c=()=>{let e=(0,o.n)({mutationFn:async e=>{let{data:t}=await l.verifyOtp(e);return t}});return{verify:e.mutate,isPending:e.isPending,error:e.error,data:e.data}};var m=r(54864),p=r(33571),x=r(17019);let g=({isOpen:e,onClose:t,onSubmit:r})=>{let[a,o]=(0,n.useState)(""),[i,l]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if(e){let e=document.getElementById("mobile-input");e?.focus()}},[e]),e)?(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50bg-opacity-50",children:(0,s.jsxs)("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-200 via-purple-200 to-pink-200 shadow-xl w-full max-w-md border border-gray-100 transform transition-all duration-300 scale-95 hover:scale-100",children:[(0,s.jsx)("div",{className:"rounded-t-2xl bg-gray-500 text-white p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-extrabold text-center flex-1",children:"Sign Up"}),(0,s.jsx)("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",children:(0,s.jsx)(x.yGN,{size:24})})]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"text-center text-gray-900 mb-6",children:"Enter your mobile number to get started"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(!0),r(a),setTimeout(()=>{l(!1),t()},1500)},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"mobile-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number"}),(0,s.jsx)("input",{id:"mobile-input",type:"tel",placeholder:"Enter your mobile number",className:"w-full px-4 py-3 border-2 border-black rounded-xl text-center text-lg font-semibold text-gray-700  focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",value:a,onChange:e=>o(e.target.value.replace(/\D/g,"")),required:!0,maxLength:10})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{type:"button",className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl hover:bg-gray-200 transition-colors font-medium text-sm uppercase tracking-wide shadow-sm",onClick:t,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-xl  hover:from-purple-700 hover:to-indigo-700 transition-all font-medium text-sm uppercase tracking-wide shadow-lg shadow-purple-100 hover:shadow-purple-200 disabled:opacity-70",disabled:i||10!==a.length,children:i?"Sending...":"Submit"})]})]}),(0,s.jsx)("p",{className:"text-center text-sm text-gray-500 mt-4",children:"By signing up, you agree to our Terms and Conditions"})]})]})}):null},h=()=>{let e=(0,o.n)({mutationFn:async e=>{let{data:t}=await l.sendRegisterOtp(e);return t}});return{mutate:e.mutate,isPending:e.isPending,data:e.data,error:e.error}},b=()=>{let e=(0,o.n)({mutationFn:async e=>{let{data:t}=await l.verifyRegisterOtp(e);return t}});return{registerVerify:e.mutate,isPending:e.isPending,error:e.error,data:e.data}},f=({isOpen:e,onClose:t,onSubmit:r})=>{let[a,o]=(0,n.useState)({fname:"",email:""}),i=e=>{let{name:t,value:r}=e.target;o(e=>({...e,[t]:r}))};return e?(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50bg-opacity-50",children:(0,s.jsxs)("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-200 via-purple-200 to-pink-200 shadow-xl w-full max-w-md border border-gray-100 transform transition-all duration-300 scale-95 hover:scale-100",children:[(0,s.jsx)("div",{className:"rounded-t-2xl bg-gray-500 text-white p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-extrabold text-center flex-1",children:"Sign Up"}),(0,s.jsx)("button",{onClick:t,className:"text-white hover:text-gray-200",children:(0,s.jsx)(x.yGN,{size:24})})]})}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(a)},className:"p-6",children:[(0,s.jsx)("h2",{className:"flex text-2xl",children:"Personal Detail"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{htmlFor:"fname",className:"block text-sm font-medium text-gray-700 mb-1",children:["Enter Full Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"fname",name:"fname",placeholder:"Enter your full name",className:"w-full p-3 border border-black rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:a.fname,onChange:i,required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Enter Email ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",className:"w-full p-3 border border-black rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:a.email,onChange:i,required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit"})]})]})}):null},v=()=>{let e=(0,o.n)({mutationFn:async e=>{let{data:t}=await l.submitPersonalDetail(e);return t}});return{sendPersonDetail:e.mutate,isPending:e.isPending,data:e.data,error:e.error}};function y(){let[e,t]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[x,y]=(0,n.useState)(""),[j,N]=(0,n.useState)(!1),[w,P]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),[E,C]=(0,n.useState)(!1),{mutate:A,isPending:O,data:R,error:q}=d(),{sendPersonDetail:T,isPending:F,data:I,error:L}=v(),_=(0,m.wA)(),[z,D]=(0,n.useState)(""),{verify:G,isPending:M}=c(),{registerVerify:B,isPending:$}=b(),V=(0,u.useRouter)();console.log((0,m.d4)(e=>e.auth.isAuthenticated));let[K,U]=(0,n.useState)(!1),{mutate:W,isPending:X,data:Y,error:H}=h(),[J,Q]=(0,n.useState)(!1),Z=()=>{console.log("Resending OTP...")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row h-screen",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/3 bg-white p-5 md:p-12 relative",children:[(0,s.jsxs)("div",{className:"absolute flex items-center  top-5 left-5 z-10",children:[(0,s.jsx)("img",{src:"/login/image.png",className:"h-10",alt:"logo"}),(0,s.jsx)("span",{className:"text-blue-500 font-bold text-2xl",children:"kashish India"})]}),(0,s.jsxs)("div",{className:"h-full flex flex-col justify-center",children:[(0,s.jsx)("div",{className:"text-center mb-8",children:(0,s.jsx)("h1",{className:"text-3xl font-semibold bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent",children:"Sign In"})}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-6 text-center",children:"Login To Your Account"}),(0,s.jsxs)("form",{onSubmit:t=>{t.preventDefault(),console.log({mobile:e,password:i,alias:x})},children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",id:"mobile",name:"mobile",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",value:e,onChange:e=>{t(e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"))},placeholder:"Enter your Mobile",pattern:"[0-9]*",maxLength:10,minLength:10,required:!0}),(0,s.jsx)("i",{className:"fa fa-phone absolute left-3 top-3 text-gray-400"})]})]}),(0,s.jsx)("button",{type:j?"submit":"button",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-md transition duration-200 mt-6",onClick:j?void 0:t=>{t.preventDefault(),A({mobileno:e},{onSuccess:e=>{!0===e.status&&N(!0)}})},children:j?"Sign In":"Get OTP"})]}),(0,s.jsx)("a",{href:"#modaldemo10",className:"block text-center text-purple-600 text-sm mt-4 hover:underline",children:"Forgot Password ?"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:"Activate your Account"}),(0,s.jsx)("button",{onClick:()=>U(!0),className:"w-full block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-200",children:"Register"})]})]})]}),(0,s.jsx)("div",{className:"hidden md:block md:w-2/3 bg-black overflow-hidden",children:(0,s.jsx)("div",{className:"h-full w-full",children:(0,s.jsx)("img",{src:"/login/image.png",className:"h-full w-full ",alt:"logo"})})})]})}),(0,s.jsx)(a.A,{isOpen:j,onClose:()=>N(!1),onSubmit:t=>{console.log("OTP submitted:",t),G({otp:t,mobileno:e},{onSuccess:e=>{!0===e.status?(Q(!1),alert("hello"),console.log(e),_((0,p.LA)({token:e.token,user:e.data})),V.push("/")):alert("Invalid OTP")},onError:e=>{console.error(e),alert("Something went wrong")}})},onResend:Z}),(0,s.jsx)(g,{isOpen:K,onClose:()=>U(!1),onSubmit:e=>{o(e),W({mobileno:e},{onSuccess:e=>{console.log("OTP Sent Successfully:",e),S(!0)},onError:e=>{console.error("Failed to send OTP:",e),alert("Failed to send OTP.")}})}}),(0,s.jsx)(a.A,{isOpen:k,onClose:()=>S(!1),onSubmit:e=>{B({otp:e,mobileno:r},{onSuccess:e=>{!0===e.status?(S(!1),alert("now you can show modal form over here"),D(e.token),C(!0),console.log(e)):alert("Invalid OTP")},onError:e=>{console.error(e),alert("Something went wrong")}})},onResend:Z}),(0,s.jsx)(f,{isOpen:E,onClose:()=>C(!1),onSubmit:e=>{console.log("Form submitted:",e),T({...{mobileno:r,email:e.email,token:z,name:e.fname}},{onSuccess:e=>{console.log(e),!0==e.status&&C(!1)}}),C(!1)}})]})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,773,658,742],()=>r(12306));module.exports=s})();