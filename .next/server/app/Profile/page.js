(()=>{var e={};e.id=668,e.ids=[668],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4782:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>u,routeModule:()=>p,tree:()=>d});var t=r(65239),s=r(48088),i=r(88170),l=r.n(i),o=r(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(a,n);let d={children:["",{children:["Profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,32719)),"/root/APIPARTNER/kashishpartnerapi/app/Profile/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/root/APIPARTNER/kashishpartnerapi/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/root/APIPARTNER/kashishpartnerapi/app/Profile/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/Profile/page",pathname:"/Profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32719:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/root/APIPARTNER/kashishpartnerapi/app/Profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/APIPARTNER/kashishpartnerapi/app/Profile/page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},46055:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});var t=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"256x249",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81063:(e,a,r)=>{Promise.resolve().then(r.bind(r,87073))},81630:e=>{"use strict";e.exports=require("http")},87073:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var t=r(60687),s=r(43210),i=r(15103),l=r(54864),o=r(90296);function n(e){return(0,o.k5)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}var d=r(82130),u=r(54050);let m=e=>{let a=(0,u.n)({mutationFn:async a=>(await d.W.putProfileData(e,a)).data});return{mutate:a.mutate,isPending:a.isPending,data:a.data,error:a.error}},p=({profile:e,onClose:a,userId:r,onUpdateSuccess:i})=>{let[l,o]=(0,s.useState)({name:e.name||"",email:e.email||"",mobileno:e.mobileno||"",city:e.city||"",shopName:e.shopName||"",aadharCardNumber:e.aadharCardNumber||"",panCardNumber:e.panCardNumber||"",udhyamAadharNumber:e.udhyamAadharNumber||"",gstRegistrationNumber:e.gstRegistrationNumber||"",businessType:e.businessType||""}),{mutate:n,isPending:d,error:u}=m(r),p=e=>{o(a=>({...a,[e.target.name]:e.target.value}))};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white w-[90%] md:w-[80%] max-h-[90vh] overflow-y-auto p-6 rounded-xl shadow-lg relative",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-blue-600 mb-6",children:"Edit Profile"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(l,{onSuccess:()=>{alert("Profile updated!"),i(),a()},onError:()=>{alert("Update failed.")}})},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[[{label:"Name",name:"name"},{label:"Email",name:"email"},{label:"Mobile Number",name:"mobileno"},{label:"City",name:"city"},{label:"Shop Name",name:"shopName"},{label:"Aadhaar Number",name:"aadharCardNumber"},{label:"PAN Number",name:"panCardNumber"},{label:"Udyam Aadhaar No.",name:"udhyamAadharNumber"},{label:"GST Registration No.",name:"gstRegistrationNumber"},{label:"Business Type",name:"businessType"}].map(({label:e,name:a})=>(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:a,className:"text-sm text-gray-700 font-medium mb-1",children:e}),(0,t.jsx)("input",{type:"text",id:a,name:a,value:l[a],onChange:p,className:"px-4 py-2 border rounded-md border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"})]},a)),(0,t.jsxs)("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]})]})})},c=({label:e,value:a})=>(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm hover:shadow-md transition-all",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 font-semibold uppercase mb-1",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-800 font-medium",children:a||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not Available"})})]}),x=()=>{let{mutate:e,isPending:a,data:r,error:o}=(0,i.A)(),d=(0,l.d4)(e=>e.auth.user),[u,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d?.id&&e(d.id)},[d?.id]);let x=r?.data?.[0]||{},b=e=>e||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not Available"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"max-w-6xl mx-auto  ",children:(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-md shadow-xl border border-gray-200 rounded-3xl p-8 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-blue-100 p-3 rounded-full shadow",children:(0,t.jsx)(n,{className:"text-blue-600 text-5xl"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:b(x.name)}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["User ID: ",b(x.id)]})]})]}),(0,t.jsx)("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-2 rounded-xl shadow hover:scale-105 transition",children:"Edit Profile"})]}),a&&(0,t.jsx)("p",{className:"text-blue-600 mb-4",children:"Loading profile..."}),o&&(0,t.jsx)("p",{className:"text-red-600 mb-4",children:"Failed to load profile."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(c,{label:"Email",value:x.email}),(0,t.jsx)(c,{label:"Mobile No",value:x.mobileno}),(0,t.jsx)(c,{label:"Status",value:x.status}),(0,t.jsx)(c,{label:"Created At",value:x.createdAt?new Date(x.createdAt).toLocaleString():null}),(0,t.jsx)(c,{label:"City",value:x.city}),(0,t.jsx)(c,{label:"Shop Name",value:x.shopName}),(0,t.jsx)(c,{label:"Aadhaar No",value:x.aadharCardNumber}),(0,t.jsx)(c,{label:"PAN No",value:x.panCardNumber}),(0,t.jsx)(c,{label:"Udyam Aadhaar No",value:x.udhyamAadharNumber}),(0,t.jsx)(c,{label:"GST No",value:x.gstRegistrationNumber}),(0,t.jsx)(c,{label:"Business Type",value:x.businessType})]})]})}),u&&d?.id&&(0,t.jsx)(p,{profile:x,onClose:()=>m(!1),userId:d.id,onUpdateSuccess:()=>{d?.id&&e(d.id)}})]})}},94735:e=>{"use strict";e.exports=require("events")},97935:(e,a,r)=>{Promise.resolve().then(r.bind(r,32719))}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[447,773,658,742],()=>r(4782));module.exports=t})();