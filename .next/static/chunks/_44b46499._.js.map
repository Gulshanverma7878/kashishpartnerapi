{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/k/Desktop/kashishpartnerapii/kashishpartnerapi/components/topup/SummarySection.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\ninterface CardItem {\r\n  card: string;\r\n  amount: number;\r\n}\r\n\r\ninterface CscItem {\r\n  cscId: string;\r\n  amount: number;\r\n}\r\n\r\ninterface SummarySectionProps {\r\n  type: \"card\" | \"csc\";\r\n  title: string;\r\n  data: CardItem[] | CscItem[];\r\n}\r\n\r\nconst SummarySection: React.FC<SummarySectionProps> = ({ type, title, data }) => {\r\n  // âœ… Calculate total amount\r\n  const totalAmount = data.reduce((sum, item: any) => sum + (item.amount || 0), 0);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md border border-gray-300 p-4 md:p-6\">\r\n      {/* Header Section */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4 border-b pb-3\">\r\n        <h2 className=\"text-lg font-semibold text-gray-800\">{title}</h2>\r\n      </div>\r\n\r\n      {/* Data List Section */}\r\n      <div className=\"grid gap-3\">\r\n        {data.map((item: any, index: number) => (\r\n          <div\r\n            key={index}\r\n            className=\"flex items-center justify-between rounded-lg border border-gray-200 hover:border-blue-400 transition-colors duration-200 p-3 shadow-sm\"\r\n          >\r\n            <p className=\"text-gray-700 font-medium\">\r\n              {type === \"card\" ? item.card : item.cscId}\r\n            </p>\r\n            <p className=\"text-green-700 font-semibold\">\r\n              â‚¹ {item.amount.toLocaleString()}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* ðŸ”¹ Total Section */}\r\n      <div className=\"border-t pt-3 text-right mt-4\">\r\n        <p className=\"text-gray-800 font-semibold\">\r\n          Total:{\" \"}\r\n          <span className=\"text-green-700\">\r\n            â‚¹ {totalAmount.toLocaleString()}\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SummarySection;\r\n"],"names":[],"mappings":";;;;AAAA;;AAmBA,MAAM,iBAAgD,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;IAC1E,2BAA2B;IAC3B,MAAM,cAAc,KAAK,MAAM,CAAC,CAAC,KAAK,OAAc,MAAM,CAAC,KAAK,MAAM,IAAI,CAAC,GAAG;IAE9E,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAuC;;;;;;;;;;;0BAIvD,6LAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC,MAAW,sBACpB,6LAAC;wBAEC,WAAU;;0CAEV,6LAAC;gCAAE,WAAU;0CACV,SAAS,SAAS,KAAK,IAAI,GAAG,KAAK,KAAK;;;;;;0CAE3C,6LAAC;gCAAE,WAAU;;oCAA+B;oCACvC,KAAK,MAAM,CAAC,cAAc;;;;;;;;uBAP1B;;;;;;;;;;0BAcX,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;;wBAA8B;wBAClC;sCACP,6LAAC;4BAAK,WAAU;;gCAAiB;gCAC5B,YAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;;;AAMzC;KAvCM;uCAyCS","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/k/Desktop/kashishpartnerapii/kashishpartnerapi/components/topup/SummaryGrid.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useMemo } from \"react\";\r\nimport SummarySection from \"./SummarySection\";\r\n\r\ninterface RawDataItem {\r\n  card: string;\r\n  csc_id: string;\r\n  amount: string;\r\n  status: string;\r\n}\r\n\r\ninterface CardItem {\r\n  card: string;\r\n  amount: number;\r\n}\r\n\r\ninterface CscItem {\r\n  cscId: string;\r\n  amount: number;\r\n}\r\n\r\ninterface SummaryGridProps {\r\n  cardData: RawDataItem[];\r\n  cscData: RawDataItem[];\r\n  startDate: string;\r\n  endDate: string;\r\n  setStartDate: (date: string) => void;\r\n  setEndDate: (date: string) => void;\r\n}\r\n\r\nconst SummaryGrid: React.FC<SummaryGridProps> = ({ cardData, cscData,startDate,\r\n  endDate,\r\n  setStartDate,\r\n  setEndDate, }) => {\r\n\r\n\r\n  // âœ… Utility function: aggregate by key (card or csc_id)\r\n  const aggregateByKey = (\r\n    data: RawDataItem[],\r\n    key: \"card\" | \"csc_id\"\r\n  ): { [key: string]: number } => {\r\n    return data\r\n      .filter((item) => item.status === \"SUCCESS\")\r\n      .reduce((acc, item) => {\r\n        const k = item[key];\r\n        const amt = parseFloat(item.amount) || 0;\r\n        acc[k] = (acc[k] || 0) + amt;\r\n        return acc;\r\n      }, {} as { [key: string]: number });\r\n  };\r\n\r\n  // âœ… useMemo for optimized aggregation (only runs when data changes)\r\n  const processedCardData: CardItem[] = useMemo(() => {\r\n    const aggregated = aggregateByKey(cardData, \"card\");\r\n    return Object.entries(aggregated).map(([card, amount]) => ({\r\n      card,\r\n      amount,\r\n    }));\r\n  }, [cardData]);\r\n\r\n  const processedCscData: CscItem[] = useMemo(() => {\r\n    const aggregated = aggregateByKey(cscData, \"csc_id\");\r\n    return Object.entries(aggregated).map(([cscId, amount]) => ({\r\n      cscId,\r\n      amount,\r\n    }));\r\n  }, [cscData]);   \r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md border border-gray-300 p-4 md:p-6 mb-6\">\r\n      {/* ðŸ”¹ Date Range Filter */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-6 border-b pb-3\">\r\n        <h2 className=\"text-lg font-semibold text-gray-800\">Summary Report</h2>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <input\r\n            type=\"date\"\r\n            value={startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n            className=\"border border-gray-300 rounded-md px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-blue-400\"\r\n          />\r\n          <span className=\"text-gray-600 text-xs\">to</span>\r\n          <input\r\n            type=\"date\"\r\n            value={endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n            className=\"border border-gray-300 rounded-md px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-blue-400\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* ðŸ”¹ Grid Section */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <SummarySection type=\"card\" title=\"Card Summary\" data={processedCardData} />\r\n        <SummarySection type=\"csc\" title=\"CSC Summary\" data={processedCscData} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SummaryGrid;\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AA8BA,MAAM,cAA0C,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAC,SAAS,EAC5E,OAAO,EACP,YAAY,EACZ,UAAU,EAAG;;IAGb,wDAAwD;IACxD,MAAM,iBAAiB,CACrB,MACA;QAEA,OAAO,KACJ,MAAM,CAAC,CAAC,OAAS,KAAK,MAAM,KAAK,WACjC,MAAM,CAAC,CAAC,KAAK;YACZ,MAAM,IAAI,IAAI,CAAC,IAAI;YACnB,MAAM,MAAM,WAAW,KAAK,MAAM,KAAK;YACvC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,IAAI;YACzB,OAAO;QACT,GAAG,CAAC;IACR;IAEA,oEAAoE;IACpE,MAAM,oBAAgC,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;kDAAE;YAC5C,MAAM,aAAa,eAAe,UAAU;YAC5C,OAAO,OAAO,OAAO,CAAC,YAAY,GAAG;0DAAC,CAAC,CAAC,MAAM,OAAO,GAAK,CAAC;wBACzD;wBACA;oBACF,CAAC;;QACH;iDAAG;QAAC;KAAS;IAEb,MAAM,mBAA8B,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;iDAAE;YAC1C,MAAM,aAAa,eAAe,SAAS;YAC3C,OAAO,OAAO,OAAO,CAAC,YAAY,GAAG;yDAAC,CAAC,CAAC,OAAO,OAAO,GAAK,CAAC;wBAC1D;wBACA;oBACF,CAAC;;QACH;gDAAG;QAAC;KAAQ;IAEZ,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAsC;;;;;;kCAEpD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gCAC5C,WAAU;;;;;;0CAEZ,6LAAC;gCAAK,WAAU;0CAAwB;;;;;;0CACxC,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,WAAU;;;;;;;;;;;;;;;;;;0BAMhB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,yIAAA,CAAA,UAAc;wBAAC,MAAK;wBAAO,OAAM;wBAAe,MAAM;;;;;;kCACvD,6LAAC,yIAAA,CAAA,UAAc;wBAAC,MAAK;wBAAM,OAAM;wBAAc,MAAM;;;;;;;;;;;;;;;;;;AAI7D;GApEM;KAAA;uCAsES","debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/k/Desktop/kashishpartnerapii/kashishpartnerapi/app/csc/topup/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  Search,\r\n  ArrowUpDown,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Loader2,\r\n} from \"lucide-react\";\r\nimport SummarySection from \"@/components/topup/SummarySection\";\r\nimport SummaryGrid from \"@/components/topup/SummaryGrid\";\r\n\r\nexport default function PaycardTable() {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [sortField, setSortField] = useState(\"createdAt\");\r\n  const [sortDirection, setSortDirection] = useState(\"desc\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n  const itemsPerPage = 10;\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch(\r\n          \"https://api.partner.kashishindiapvtltd.com/paycardlist\"\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch data\");\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        if (result.success && result.cards) {\r\n          setData(result.cards);\r\n        } else {\r\n          throw new Error(\"Invalid data format\");\r\n        }\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(startDate);\r\n    console.log(endDate);\r\n  }, [startDate, endDate]);\r\n\r\n  const filteredData = data.filter((item) => {\r\n    if (!startDate || !endDate) return true; // no filter if not selected\r\n\r\n    const createdDate = new Date(item.createdAt);\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n\r\n    // ðŸ”¹ Include both start and end dates\r\n    return (\r\n      createdDate >= start &&\r\n      createdDate <= new Date(end.setHours(23, 59, 59, 999))\r\n    );\r\n  });\r\n\r\n  console.log(filteredData);\r\n\r\n  // Paginate data\r\n  const totalPages = Math.ceil(filteredData.length / itemsPerPage);\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const paginatedData = filteredData.slice(\r\n    startIndex,\r\n    startIndex + itemsPerPage\r\n  );\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case \"active\":\r\n        return \"bg-green-100 text-green-800 border-green-200\";\r\n      case \"success\":\r\n        return \"bg-green-100 text-green-800 border-green-200\";\r\n      case \"inactive\":\r\n        return \"bg-gray-100 text-gray-800 border-gray-200\";\r\n      case \"suspended\":\r\n        return \"bg-yellow-100 text-yellow-800 border-yellow-200\";\r\n      case \"blocked\":\r\n        return \"bg-red-100 text-red-800 border-red-200\";\r\n      default:\r\n        return \"bg-gray-100 text-gray-800 border-gray-200\";\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      second: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat(\"en-US\", {\r\n      style: \"currency\",\r\n      currency: \"INR\",\r\n    }).format(parseFloat(amount));\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full p-6 bg-gray-50 min-h-screen\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Paycards</h1>\r\n          <p className=\"text-gray-600\">\r\n            Manage and view all paycard transactions\r\n          </p>\r\n        </div>\r\n\r\n        <SummaryGrid\r\n          cardData={filteredData}\r\n          cscData={filteredData}\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          setStartDate={setStartDate}\r\n          setEndDate={setEndDate}\r\n        />\r\n       // Inside your return statement where table is shown:\r\n<PaycardTableContent\r\n  data={paginatedData}\r\n  formatDate={formatDate}\r\n  formatCurrency={formatCurrency}\r\n  getStatusColor={getStatusColor}\r\n/>\r\n\r\n{!loading && !error && totalPages > 1 && (\r\n  <Pagination\r\n    currentPage={currentPage}\r\n    totalPages={totalPages}\r\n    totalItems={filteredData.length}\r\n    itemsPerPage={itemsPerPage}\r\n    onPageChange={setCurrentPage}\r\n  />\r\n)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}