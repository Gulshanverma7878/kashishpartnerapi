(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[919],{413:(e,t,a)=>{"use strict";a.d(t,{M:()=>r});var s=a(1990),l=a(2525);let r=(0,s.U1)({reducer:{auth:l.Ay}})},2525:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,LA:()=>l,Qv:()=>o,ri:()=>r});let s=(0,a(1990).Z0)({name:"auth",initialState:{token:null,user:null,isAuthenticated:!1},reducers:{setCredentials:(e,t)=>{let{token:a,user:s}=t.payload;e.token=a,a&&!(a.length<=0)&&(e.user=s,e.isAuthenticated=!0,localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)))},updateToken:(e,t)=>{let a=t.payload;a&&!(a.length<=0)&&(e.token=a,e.isAuthenticated=!0,localStorage.setItem("token",a))},updateUser:(e,t)=>{let a=t.payload;e.user=a,localStorage.setItem("user",JSON.stringify(a))},logout:e=>{e.token=null,e.user=null,e.isAuthenticated=!1,localStorage.removeItem("token"),localStorage.removeItem("user")},hydrate:e=>{let t=localStorage.getItem("token"),a=localStorage.getItem("user");e.token=t,e.user=a&&JSON.parse(a),e.isAuthenticated=!!(t&&a)}}}),{setCredentials:l,logout:r,hydrate:o,updateToken:n,updateUser:i}=s.actions,d=s.reducer},3479:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(5155),l=a(2115),r=a(5784),o=a(6671);let n=e=>{let{onClose:t,userid:a}=e,[n,i]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[u,m]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),p=async e=>{e.preventDefault(),x(!0);try{let e=await r.S.post("/api/csc",{userid:a,csc_id:n,mpin:d,password:u});console.log("API response:",e.data),(0,o.oR)("Success",{description:"CSC ID submitted successfully!"}),t()}catch(e){var s,l;console.error(e),(0,o.oR)("Error",{description:(null==e||null==(l=e.response)||null==(s=l.data)?void 0:s.err)||(null==e?void 0:e.message)||"Submission failed"})}finally{x(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 backdrop-blur-md bg-black/40",children:(0,s.jsxs)("div",{className:"relative w-full max-w-md bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 rounded-2xl shadow-2xl border border-white/30 p-8 transform transition-all duration-300 hover:scale-[1.02]",children:[(0,s.jsx)("button",{onClick:t,className:"absolute top-3 right-4 text-gray-600 hover:text-red-500 text-2xl font-bold transition",children:"✕"}),(0,s.jsx)("h2",{className:"text-2xl font-extrabold text-center mb-6 text-gray-800",children:"CSC ID Refresh / Login"}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"CSC ID"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Enter your CSC ID",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 outline-none shadow-sm transition",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"MPIN"}),(0,s.jsx)("input",{type:"password",value:d,onChange:e=>c(e.target.value),placeholder:"Enter your MPIN",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 outline-none shadow-sm transition",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 font-semibold mb-1",children:"Password"}),(0,s.jsx)("input",{type:"password",value:u,onChange:e=>m(e.target.value),placeholder:"Enter your Password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 outline-none shadow-sm transition",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold py-2 rounded-lg shadow-md transition-all duration-200 ".concat(h?"opacity-60 cursor-not-allowed":"hover:from-green-600 hover:to-emerald-700"),children:h?"Submitting...":"Submit"})]})]})})};function i(e){let{selecteCscId:t,onClose:a}=e,[o,n]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{var e;let a=await r.S.get("/api/cscsession/".concat(t));console.log(a),n((null==(e=a.data)?void 0:e.data)||[])}catch(e){console.error("Error fetching CSC IDs:",e)}finally{d(!1)}})()},[t]);let c=e=>new Date(e).toLocaleString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0,timeZone:"Asia/Kolkata"});return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"relative w-[100vw] h-[100vh] bg-white rounded-none shadow-xl p-8 overflow-auto",children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-4 right-6 text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded-lg font-medium transition",children:"Close"}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-center text-green-600 mb-6",children:"CSC Session Details"}),i?(0,s.jsx)("div",{className:"flex justify-center items-center h-[70vh]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-green-500 border-t-transparent"})}):0===o.length?(0,s.jsx)("p",{className:"text-center text-gray-500 text-lg",children:"No Data Found"}):(0,s.jsx)("div",{className:"overflow-x-auto bg-gray-50 rounded-lg shadow-md",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{className:"bg-green-600 text-white sticky top-0",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Sr. No"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"CSC ID"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Opening Balance"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Closing Balance"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Total Success Recharge"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Total Success Amount"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Total Charged Amount"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Status"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Time"})]})}),(0,s.jsx)("tbody",{children:o.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-green-50 transition",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium",children:t+1}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.csc_id}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.opening_balance}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.closingBalance||""}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.recharge_count||"0"}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.total_txn_amount||0}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.total_charged_amount||0}),(0,s.jsx)("td",{className:"px-4 py-3 font-semibold ".concat("ACTIVE"===e.status?"text-green-600":"text-red-500"),children:e.status}),(0,s.jsx)("td",{className:"px-4 py-3",children:c(e.createdAt)})]},e.id))})]})})]})})}var d=a(4631),c=a(5339),u=a(9946);let m=(0,u.A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),h=(0,u.A)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),x=(0,u.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),p=(0,u.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),g=(0,u.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function f(){let[e,t]=(0,l.useState)(!1),[a,o]=(0,l.useState)("10/07/2025"),[u,f]=(0,l.useState)("10/07/2025"),[b,y]=(0,l.useState)(""),[v,j]=(0,l.useState)(""),[N,w]=(0,l.useState)([]),[C,S]=(0,l.useState)(!0),[k,I]=(0,l.useState)({}),[A,E]=(0,l.useState)({}),[L,_]=(0,l.useState)(""),[D,T]=(0,l.useState)(""),[F,M]=(0,l.useState)(""),[O,R]=(0,l.useState)(!1),[P,V]=(0,l.useState)(!1),[U,B]=(0,l.useState)(null),[q,z]=(0,l.useState)(null),[J,Z]=(0,l.useState)(!1),H=async e=>{try{var t;I(t=>({...t,[e]:!0}));let a=await r.S.get("https://api.partner.kashishindiapvtltd.com/api/cscsession/balance/get/".concat(e)),s=(null==a?void 0:a.data)||(null==a||null==(t=a.data)?void 0:t.data)||"0";w(t=>t.map(t=>t.cscId===e?{...t,currentBalance:s}:t))}catch(t){console.error("Error fetching balance for ".concat(e,":"),t),w(t=>t.map(t=>t.cscId===e?{...t,currentBalance:"0"}:t))}finally{I(t=>({...t,[e]:!1}))}};(0,l.useEffect)(()=>{(async()=>{try{var e,t;let a=JSON.parse(localStorage.getItem("user")||"{}"),s=null==a?void 0:a.id;if(!s){console.error("User ID not found in localStorage."),S(!1);return}T(s);let l=await r.S.get("/api/csc/".concat(s));console.log(null==l?void 0:l.data);let o=await r.S.get("/getTopup"),n=await r.S.get("/getAutoLoading");console.log("AutoLoading",null==n?void 0:n.data),j((null==n||null==(e=n.data)?void 0:e.autoLoading)||""),y((null==o||null==(t=o.data)?void 0:t.amountToAdd)||"");let i=l.data;if((null==i?void 0:i.data)&&i.data.length>0){let e=i.data.map((e,t)=>({id:e.id,name:(null==a?void 0:a.name)||"N/A",cscId:e.csc_id,currentBalance:"Login First!",payment:"No payments found",billCount:"No bills found",password:e.password,status_new:"ACTIVE"===e.status_new?"ACTIVE":"INACTIVE"}));w(e),e.forEach(e=>{H(e.cscId)})}else w([])}catch(e){console.error("Error fetching CSC IDs:",e),w([])}finally{S(!1)}})()},[]);let W=e=>{window.confirm("Are you sure you want to delete this CSC record?")&&(w(N.filter(t=>t.id!==e)),r.S.delete("https://api.partner.kashishindiapvtltd.com/api/csc/".concat(e)).then(e=>{console.log("Deleted successfully:",e.data)}).catch(e=>{console.error("Error deleting CSC ID:",e)}))},$=e=>{z({...e}),Z(!0)},K=async()=>{if(q)try{let e=await r.S.put("https://api.partner.kashishindiapvtltd.com/api/csc/".concat(q.id),{csc_id:q.cscId,password:q.password,status_new:q.status_new});console.log("Update response:",e.data),w(N.map(e=>e.id===q.id?q:e)),alert("CSC ID updated successfully!"),Z(!1),z(null)}catch(e){console.error("Error updating CSC ID:",e),alert("Failed to update CSC ID. Please try again.")}},Q=async(e,t)=>{try{let a=N.find(t=>t.id===e);if(!a)return;let s="ACTIVE"===a.status_new?"INACTIVE":"ACTIVE";E(t=>({...t,[e]:!0}));let l=await r.S.put("https://api.partner.kashishindiapvtltd.com/api/cscsession/".concat(t.cscId),{status:s,csc_id:a.cscId});console.log("Status update response:",l.data),w(N.map(t=>t.id===e?{...t,status_new:s}:t)),alert("Status updated to ".concat(s))}catch(e){console.error("Error updating status:",e),alert("Failed to update status. Please try again.")}finally{E(t=>({...t,[e]:!1}))}},X=e=>{try{let t="https://api.partner.kashishindiapvtltd.com/api/cscsession/Logincsc/login/digi?user_id=".concat(e.cscId,"&password=").concat(e.password,"&csc_id=").concat(D);console.log("Opening Digi Login URL:",t),_(t),B("digi"),R(!0)}catch(e){console.error("Error in handleDigiLogin:",e),alert("Failed to load Digi Login. Please try again.")}},G=e=>{try{let t="https://api.partner.kashishindiapvtltd.com/api/cscsession/Logincsc/login?csc_id=".concat(e.cscId,"&password=").concat(e.password,"&user_id=").concat(D);console.log("Opening Normal Login URL:",t),_(t),B("normal"),R(!0)}catch(e){console.error("Error in handleNormalLogin:",e),alert("Failed to load Normal Login. Please try again.")}},[Y,ee]=(0,l.useState)(!1),et=async e=>{var t,a,s,l;let o=null==(t=e.target.files)?void 0:t[0];if(!o)return;let n=new FormData;n.append("file",o),n.append("user_id",D);try{ee(!0);let e=await r.S.post("https://api.partner.kashishindiapvtltd.com/import",n,{headers:{"Content-Type":"multipart/form-data"}});alert((null==(a=e.data)?void 0:a.message)||"File uploaded successfully!"),window.location.reload()}catch(e){console.error("Error uploading file:",e),alert((null==(l=e.response)||null==(s=l.data)?void 0:s.message)||"Upload failed. Please try again.")}finally{ee(!1)}},ea=async e=>{try{let t=new AbortController,a=setTimeout(()=>{t.abort()},1e4);alert("Started");let s=await fetch("https://api.partner.kashishindiapvtltd.com/api/cscsession/topup/get?csc_id=".concat(e.cscId),{signal:t.signal});if(clearTimeout(a),!s.ok)throw Error("Server returned ".concat(s.status));let l=await s.json();console.log("Response:",l)}catch(e){"AbortError"===e.name?console.warn("Fetch aborted due to timeout"):console.error("Error:",e)}},es=e=>{j(e),fetch("https://api.partner.kashishindiapvtltd.com/setautoLoading?status="+e).then(e=>e.json()).then(e=>{alert("Amount limit updated successfully"),console.log("Amount limit updated:",e)}).catch(e=>{console.error("Error updating amount limit:",e)})};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-4 md:p-8",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("h1",{className:"text-5xl md:text-6xl font-black bg-gradient-to-r from-emerald-400 via-blue-400 to-purple-400 bg-clip-text text-transparent mb-3 drop-shadow-lg",children:"My CSC IDs"}),(0,s.jsx)("p",{className:"text-slate-300 text-lg",children:"Manage and monitor your CSC accounts efficiently"})]}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-slate-800/80 to-slate-700/80 backdrop-blur-md rounded-2xl shadow-2xl p-6 md:p-8 mb-8 border border-slate-600/50",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-slate-300 font-semibold text-sm",children:"Start Date"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),className:"bg-slate-700/50 border border-slate-600 text-white rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition duration-200"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-slate-300 font-semibold text-sm",children:"End Date"}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>f(e.target.value),className:"bg-slate-700/50 border border-slate-600 text-white rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition duration-200"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-slate-300 font-semibold text-sm opacity-0",children:"Filter"}),(0,s.jsx)("button",{className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold px-8 py-2.5 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg",children:"Filter"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-slate-300 font-semibold text-sm",children:"TopUp Limit"}),(0,s.jsx)("input",{type:"text",value:b,onChange:e=>y(e.target.value),className:"bg-slate-700/50 border border-slate-600 text-white rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition duration-200"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-slate-300 font-semibold text-sm opacity-0",children:"Set"}),(0,s.jsx)("button",{onClick:()=>{fetch("https://api.partner.kashishindiapvtltd.com/updateTopup?amount=".concat(b)).then(e=>e.json()).then(e=>{alert("Amount limit updated successfully"),console.log("Amount limit updated:",e)}).catch(e=>{console.error("Error updating amount limit:",e)})},className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-bold px-8 py-2.5 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg",children:"Set TopUp Limit"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("label",{className:"text-slate-300 font-semibold text-sm",children:["Auto Loading",(0,s.jsxs)("label",{className:"text-blue-500",children:[" ","ON"==v?"Started":"OFF"]})]}),(0,s.jsx)("button",{onClick:()=>es("ON"===v?"OFF":"ON"),className:"bg-slate-700/50 border border-slate-600 text-white rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition duration-200 hover:bg-slate-600/50",value:"ON"===v?"OFF":"ON",children:"ON"===v?"Turn Off":"Turn On"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-slate-300 font-semibold text-sm opacity-0",children:"Action"}),(0,s.jsx)("button",{onClick:()=>t(!0),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold px-8 py-2.5 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg",children:"Add CSC IDs"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-slate-300 font-semibold text-sm opacity-0",children:"Import"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"file",id:"xlsxFile",accept:".xlsx",onChange:et,className:"hidden"}),(0,s.jsx)("label",{htmlFor:"xlsxFile",className:"cursor-pointer bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white font-bold px-8 py-2.5 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center",children:"Import from Excel"})]})]})]})}),e&&(0,s.jsx)(n,{userid:D,onClose:()=>t(!1)}),(0,s.jsx)("div",{className:"bg-slate-800/60 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden border border-slate-600/50",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:C?(0,s.jsx)("div",{className:"flex justify-center items-center py-16",children:(0,s.jsx)("div",{className:"animate-spin",children:(0,s.jsx)(d.A,{className:"w-12 h-12 text-emerald-400"})})}):(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white",children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Sr. No"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"CSC ID"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Balance"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Payments"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Digi Login"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Start Loading"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Actions"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left font-bold text-sm",children:"Session"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-700",children:0===N.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:9,className:"text-center py-16",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 mb-4 text-slate-500"}),(0,s.jsx)("p",{className:"text-xl font-semibold mb-2",children:"No CSC IDs Found"}),(0,s.jsx)("p",{className:"text-sm",children:'Click "Add CSC IDs" to get started'})]})})}):N.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-slate-700/50 transition duration-200 border-slate-700",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-slate-300 font-semibold",children:t+1}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1.5 rounded-full font-mono text-sm font-bold",children:e.cscId})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"Login First!"===e.currentBalance||"Error fetching"===e.currentBalance?"text-red-400 font-bold":"text-emerald-400 font-bold text-lg",children:e.currentBalance}),k[e.cscId]&&(0,s.jsx)("span",{className:"text-xs text-slate-400 animate-pulse",children:"(loading...)"})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-slate-400",children:e.payment}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("button",{onClick:()=>X(e),className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-lg px-4 py-2 transition duration-300 transform hover:scale-105 font-semibold flex items-center gap-2 shadow-lg",children:[(0,s.jsx)(m,{className:"w-4 h-4"})," Digi"]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("button",{onClick:()=>Q(e.id,e),disabled:A[e.id],className:"px-4 py-2 rounded-lg font-bold transition duration-300 flex items-center gap-2 shadow-lg ".concat("ACTIVE"===e.status_new?"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white"," ").concat(A[e.id]?"opacity-60 cursor-not-allowed":"hover:scale-105 transform"),children:A[e.id]?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{className:"w-4 h-4"}),e.status_new]})})}),(0,s.jsx)("td",{className:"px-6 py-4 ",children:(0,s.jsx)("button",{onClick:()=>ea(e),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg px-3 py-2 transition duration-300 transform hover:scale-105 font-semibold shadow-lg",title:"start loading",children:(0,s.jsx)(h,{className:"w-5 h-5"})})}),(0,s.jsxs)("td",{className:"px-6 py-4 flex text-center mt-4 gap-2 ",children:[(0,s.jsx)("button",{onClick:()=>$(e),className:"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white rounded-lg px-3 py-2 transition duration-300 transform hover:scale-105 font-semibold shadow-lg",title:"Edit",children:(0,s.jsx)(x,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>G(e),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg px-3 py-2 transition duration-300 transform hover:scale-105 font-semibold shadow-lg",title:"Normal Login",children:(0,s.jsx)(m,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>W(e.id),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg px-3 py-2 transition duration-300 transform hover:scale-105 font-semibold shadow-lg",title:"Remove",children:(0,s.jsx)(p,{className:"w-4 h-4"})})]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("button",{onClick:()=>{M(e.cscId),V(!0)},className:"bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white px-4 py-2 rounded-lg font-bold shadow-lg transition duration-300 transform hover:scale-105 flex items-center gap-2",children:[(0,s.jsx)(g,{className:"w-4 h-4"})," View"]})})]},e.id))})]})})})]}),J&&q&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl shadow-2xl p-8 w-full max-w-md border border-slate-600",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,s.jsx)(x,{className:"w-6 h-6 text-yellow-400"}),"Edit CSC ID"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-300 font-semibold mb-2",children:"CSC ID"}),(0,s.jsx)("input",{type:"text",value:q.cscId,onChange:e=>z({...q,cscId:e.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 text-white rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-300 font-semibold mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",value:q.password,onChange:e=>z({...q,password:e.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 text-white rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-slate-300 font-semibold mb-2",children:"Status"}),(0,s.jsxs)("select",{value:q.status_new,onChange:e=>z({...q,status_new:e.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 text-white rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,s.jsx)("option",{value:"ACTIVE",children:"ACTIVE"}),(0,s.jsx)("option",{value:"INACTIVE",children:"INACTIVE"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)("button",{onClick:K,className:"flex-1 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold px-6 py-3 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg",children:"Save Changes"}),(0,s.jsx)("button",{onClick:()=>{Z(!1),z(null)},className:"flex-1 bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white font-bold px-6 py-3 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg",children:"Cancel"})]})]})}),L&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:(0,s.jsxs)("div",{className:"relative w-full max-w-5xl h-[85vh] bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col border border-slate-600",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-emerald-600 to-blue-600 px-6 py-5 flex justify-between items-center shadow-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-white font-black text-lg",children:"digi"===U?"\uD83D\uDD10 Digi Login":"\uD83D\uDD13 Normal Login"}),(0,s.jsx)("p",{className:"text-emerald-100 text-xs mt-1",children:"Secure Session"})]}),(0,s.jsx)("button",{onClick:()=>{_(""),B(null)},className:"text-white bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition font-bold text-xl shadow-lg transform hover:scale-110",children:"✕"})]}),O&&(0,s.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 z-40 flex-col gap-4 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"w-14 h-14 border-4 border-emerald-300 border-t-emerald-600 rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-white font-bold text-lg",children:"Loading Portal..."})]}),(0,s.jsx)("div",{className:"flex-1 overflow-hidden bg-slate-700",children:(0,s.jsx)("iframe",{src:L,className:"w-full h-full border-none",title:"CSC Login Session",onLoad:()=>R(!1),onError:()=>R(!1),sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation"},L)}),(0,s.jsxs)("div",{className:"bg-slate-800 px-6 py-3 border-t border-slate-600 text-xs text-slate-400",children:["Session Type: ",(0,s.jsx)("span",{className:"text-emerald-400 font-bold",children:"digi"===U?"Digi Login":"Normal Login"})]})]})}),P&&(0,s.jsx)(i,{selecteCscId:F,onClose:()=>V(!1)})]})}},4631:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},5339:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5784:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var s=a(3464),l=a(413),r=a(2525),o=a(6671);let n=a(9509).env.NEXT_PUBLIC_API_URL||"https://api.partner.kashishindiapvtltd.com/",i=s.A.create({baseURL:n,headers:{"Content-Type":"application/json"},timeout:6e5});i.interceptors.request.use(e=>{let t=l.M.getState().auth.token;return e.data instanceof FormData?e.headers["Content-Type"]="multipart/form-data":e.headers["Content-Type"]="application/json",t&&(e.headers.Authorization="Bearer ".concat(t)),e}),i.interceptors.response.use(e=>(e.data.err&&(0,o.oR)("Failed",{description:e.data.err||"Error in Request"}),e),e=>{var t,a,s,n,i;try{(0,o.oR)("Error In Request",{description:(null==e||null==(s=e.response)||null==(a=s.data)?void 0:a.err)||(null==e||null==(i=e.response)||null==(n=i.data)?void 0:n.message)||"Request Failed"})}catch(t){let{message:e}=t;console.error("error",e),(0,o.oR)("Error",{description:"failed to resolve response"})}return console.log("error",e),(null==(t=e.response)?void 0:t.status)==401&&((0,o.oR)("Auth Expired",{description:"Login in to continue"}),l.M.dispatch((0,r.ri)()),window.location.href="/"),Promise.reject(e)})},9620:(e,t,a)=>{Promise.resolve().then(a.bind(a,3479))},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var s=a(2115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),o=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:m,...h}=e;return(0,s.createElement)("svg",{ref:t,...d,width:l,height:l,stroke:a,strokeWidth:o?24*Number(r)/Number(l):r,className:n("lucide",c),...!u&&!i(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,s.forwardRef)((a,r)=>{let{className:i,...d}=a;return(0,s.createElement)(c,{ref:r,iconNode:t,className:n("lucide-".concat(l(o(e))),"lucide-".concat(e),i),...d})});return a.displayName=o(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[927,441,684,358],()=>t(9620)),_N_E=e.O()}]);