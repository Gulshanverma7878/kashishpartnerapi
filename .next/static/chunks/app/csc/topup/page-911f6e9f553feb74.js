(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[911],{3016:(e,r,t)=>{Promise.resolve().then(t.bind(t,4239))},4239:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var a=t(5155),s=t(2115),l=t(9946);let d=(0,l.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),c=(0,l.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),n=(0,l.A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),i=(0,l.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,l.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function x(){let[e,r]=(0,s.useState)([]),[t,l]=(0,s.useState)(!0),[x,h]=(0,s.useState)(null),[m,p]=(0,s.useState)(""),[u,g]=(0,s.useState)("createdAt"),[b,y]=(0,s.useState)("desc"),[w,f]=(0,s.useState)(1);(0,s.useEffect)(()=>{(async()=>{try{l(!0);let e=await fetch("https://api.partner.kashishindiapvtltd.com/paycardlist");if(!e.ok)throw Error("Failed to fetch data");let t=await e.json();if(t.success&&t.cards)r(t.cards);else throw Error("Invalid data format")}catch(e){h(e.message)}finally{l(!1)}})()},[]);let N=[...e.filter(e=>e.csc_id.toLowerCase().includes(m.toLowerCase())||e.card.toLowerCase().includes(m.toLowerCase())||e.status.toLowerCase().includes(m.toLowerCase()))].sort((e,r)=>{if(!u)return 0;let t=e[u],a=r[u];return"asc"===b?t>a?1:-1:t<a?1:-1}),j=Math.ceil(N.length/10),v=(w-1)*10,k=N.slice(v,v+10),C=e=>{u===e?y("asc"===b?"desc":"asc"):(g(e),y("asc"))},A=e=>{switch(null==e?void 0:e.toLowerCase()){case"active":case"success":return"bg-green-100 text-green-800 border-green-200";case"inactive":default:return"bg-gray-100 text-gray-800 border-gray-200";case"suspended":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"blocked":return"bg-red-100 text-red-800 border-red-200"}},S=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),L=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(parseFloat(e));return(0,a.jsx)("div",{className:"w-full p-6 bg-gray-50 min-h-screen",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paycards"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage and view all paycard transactions"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by CSC ID, card, or status...",value:m,onChange:e=>{p(e.target.value),f(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Add New Card"})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[t?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)(c,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,a.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading paycards..."})]}):x?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-red-600 font-medium mb-2",children:"Error loading data"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:x})]})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider  border-r  border-t",children:"SR. No."}),(0,a.jsx)("th",{className:"px-6 py-3 text-left  border-r  border-t",children:(0,a.jsxs)("button",{onClick:()=>C("csc_id"),className:"flex items-center gap-2 text-xs font-semibold text-gray-700 uppercase tracking-wider  hover:text-gray-900",children:["CSC ID",(0,a.jsx)(n,{className:"w-4 h-4"})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider  border-r  border-t",children:"Card Number"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left  border-r  border-t",children:(0,a.jsxs)("button",{onClick:()=>C("status"),className:"flex items-center gap-2 text-xs font-semibold text-gray-700 uppercase tracking-wider hover:text-gray-900",children:["Status",(0,a.jsx)(n,{className:"w-4 h-4"})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider  border-r  border-t",children:"Opening Balance"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider  border-r  border-t",children:"TopUp Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider  border-r  border-t",children:"Closing Balance"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider  border-r  border-t",children:"Created At"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider  border-r  border-t",children:"Updated At"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:k.length>0?k.map((e,r)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap border-r border-t",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:r+1})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap border-r  border-t",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.csc_id})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap border-r  border-t",children:(0,a.jsx)("span",{className:"text-sm text-gray-700 font-mono",children:e.card})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap border-r  border-t",children:(0,a.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded-full border ".concat(A(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right border-r  border-t",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L(e.opening_balance)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right border-r  border-t",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L(e.amount)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right border-r  border-t",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L(e.closing_balance)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap border-r  border-t",children:(0,a.jsx)("span",{className:"text-sm text-gray-600",children:S(e.createdAt)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap border-r  border-t",children:(0,a.jsx)("span",{className:"text-sm text-gray-600",children:S(e.updatedAt)})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center  border-t",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No paycards found"})})})})]})}),!t&&!x&&j>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",v+1," to ",Math.min(v+10,N.length)," of ",N.length," results"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===w,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(i,{className:"w-5 h-5"})}),(0,a.jsxs)("span",{className:"text-sm text-gray-700 px-3",children:["Page ",w," of ",j]}),(0,a.jsx)("button",{onClick:()=>f(e=>Math.min(j,e+1)),disabled:w===j,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(o,{className:"w-5 h-5"})})]})]})]})]})})}},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>x});var a=t(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),d=e=>{let r=l(e);return r.charAt(0).toUpperCase()+r.slice(1)},c=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},n=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:o="",children:x,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:r,...i,width:s,height:s,stroke:t,strokeWidth:d?24*Number(l)/Number(s):l,className:c("lucide",o),...!x&&!n(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(x)?x:[x]])}),x=(e,r)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:n,...i}=t;return(0,a.createElement)(o,{ref:l,iconNode:r,className:c("lucide-".concat(s(d(e))),"lucide-".concat(e),n),...i})});return t.displayName=d(e),t}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(3016)),_N_E=e.O()}]);